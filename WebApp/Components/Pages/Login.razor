@using System.ComponentModel.DataAnnotations

<EditForm Model="@loginModel" OnValidSubmit="HandleLogin">
    <DataAnnotationsValidator />
    <ValidationSummary class="validation-summary" />
    <div class="form-group">
        <label>Email</label>
        <InputText class="form-control" @bind-Value="loginModel.Email" />
    </div>
    <div class="form-group">
        <label>Password</label>
        <InputText class="form-control" @bind-Value="loginModel.Password" type="password" />
    </div>
    <button class="btn btn-primary" type="submit">Login</button>
    <p>
        Don't have an account? 
        <a href="#" @onclick="OnSwitchClicked" @onclick:preventDefault="true">Register</a>
    </p>
</EditForm>

@code {
    [Parameter] public EventCallback OnSwitch { get; set; }
    private LoginModel loginModel = new();

    private void HandleLogin()
    {
        // Put your login logic here, or call your auth service
    }

    private Task OnSwitchClicked() => OnSwitch.InvokeAsync();

    public class LoginModel
    {
        [Required(ErrorMessage = "Email is required.")]
        [EmailAddress(ErrorMessage = "Invalid email format.")]
        public string Email { get; set; } = string.Empty;

        [Required(ErrorMessage = "Password is required.")]
        public string Password { get; set; } = string.Empty;
    }
}